<div id="formEdit">
  <%= form_for @organizer, url: organizer_profile_path(@organizer), 
                          multipart: true, method: :patch do |f| %>
    <div class="form-group editImage">
      <%= image_tag(@organizer.avatar.url(:large), :class => "editImageStyle") if @organizer.avatar? %>
      <%= f.file_field :avatar %>
    </div>

    <div class="editForm">
      <div class="form-group">
        <%= f.label :name, "Name" %>
        <%= f.text_field :name, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= f.label :nickname, "Nickname" %>
        <%= f.text_field :nickname, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= f.label :gender, "Gender" %>
        <%= f.text_field :gender, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= f.label :age, "Age" %>
        <%= f.text_field :age, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= f.label :phone, "Phone" %>
        <%= f.text_field :phone, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= f.label :address, "Address" %>
        <%= f.text_field :address, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= f.label :tag_names, "Tag" %>
        <%= f.text_field :tag_names, class: "form-control", id: "tags", 'data-role'=>'tagsinput' %>
      </div>

      <div class="form-group" id="all_tags">
        <% for tag in @all_tags do %>
          <button type="button" class="btn btn-default"><%= tag.name %></button>
        <% end %>
      </div>
      
    </div>

    <div class="clear"></div>

    <div class="editSubmit">
      <%= f.submit "Submit", { class: 'btn btn-primary', disable_with: 'Submiting...' } %>
      <%= link_to "Cancel", organizer_profile_path(@organizer), 
          class: 'btn btn-default' %>
    </div>
  <% end %>
</div>

<script type="text/javascript">
  $('*[data-role=tagsinput]').tagsinput({
    // freeInput: true,
    trimValue: true
  });

  $('#all_tags button').click(function() {
    new_tag_name = $(this).text();
    $('#tags').tagsinput('add', new_tag_name);
  });
</script>
